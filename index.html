<!DOCTYPE html>
<html lang="es" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Los Marmotas Grow Shop</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <!-- Enlace a tu archivo CSS personalizado -->
    <link rel="stylesheet" href="css/style.css">
    <!-- Logo para el favicon (pestaña del navegador) -->
    <link rel="icon" href="https://raw.githubusercontent.com/oviedoleonel/pagina-web-los-marmotas-growshop/main/b04e66d7-b0aa-4d87-9be2-4f8eeb7577c0%20(2)-fotor-2025081620041.png" type="image/png">
</head>
<body class="bg-gray-100 text-gray-800">

    <header class="bg-black text-white sticky top-0 z-50 shadow-lg shadow-green-500/20">
        <nav class="container mx-auto px-6 py-3 flex justify-between items-center">
            <div class="flex items-center">
                <!-- Logo en el encabezado de la navegación -->
                <img src="https://raw.githubusercontent.com/oviedoleonel/pagina-web-los-marmotas-growshop/main/b04e66d7-b0aa-4d87-9be2-4f8eeb7577c0%20(2)-fotor-2025081620041.png" alt="Los Marmotas Grow Shop Logo" class="h-10 mr-3">
                <h1 class="text-2xl font-bold text-white font-losmarmotas">Los Mar<span class="text-green-400">motas</span> Grow Shop</h1>
            </div>
            <div class="flex items-center space-x-4">
                <!-- Iconos de redes sociales para escritorio -->
                <div class="hidden md:flex space-x-3 text-white">
                    <a href="https://www.instagram.com/losmarmotas.grow/" target="_blank" class="hover:text-green-400" aria-label="Instagram">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-instagram"><rect x="2" y="2" width="20" height="20" rx="5" ry="5"></rect><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path><line x1="17.5" y1="6.5" x2="17.51" y2="6.5"></line></svg>
                    </a>
                    <a href="https://api.whatsapp.com/send/?phone=541123956472&text=${encodeURIComponent('¡Hola Los Marmotas Grow Shop! Estoy interesado en los productos.')}&type=phone_number&app_absent=0" target="_blank" class="hover:text-green-400" aria-label="WhatsApp">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-message-square"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path></svg>
                    </a>
                </div>
                <!-- Controles de administrador y botón de salir para escritorio -->
                <div id="admin-controls" class="hidden md:flex items-center space-x-4">
                    <button id="admin-toggle-btn" class="bg-white text-black font-bold py-2 px-4 rounded-lg hover:bg-gray-200 transition">
                        Gestión Admin
                    </button>
                    <button id="logout-btn" class="bg-red-500 text-white font-bold py-2 px-4 rounded-lg hover:bg-red-600 transition hidden">
                        Salir
                    </button>
                </div>
                <!-- Botón de menú móvil -->
                <div class="md:hidden">
                    <button id="menu-btn" class="text-white focus:outline-none" aria-label="Abrir menú">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path></svg>
                    </button>
                </div>
            </div>
        </nav>
        <!-- Menú móvil -->
        <div id="mobile-menu" class="hidden md:hidden">
            <a href="#catalogo" class="block py-2 px-4 text-sm hover:bg-gray-800">Catálogo</a>
            <button id="admin-toggle-btn-mobile" class="block w-full text-left py-2 px-4 text-sm hover:bg-gray-800 text-white">
                Gestión Admin
            </button>
            <button id="logout-btn-mobile" class="block w-full text-left py-2 px-4 text-sm hover:bg-red-800 text-red-400 hidden">
                Salir
            </button>
            <!-- Iconos de redes sociales para móvil -->
            <div class="flex justify-center space-x-6 py-2 border-t border-gray-700 mt-2 pt-2">
                <a href="https://www.instagram.com/losmarmotas.grow/" target="_blank" class="text-white hover:text-green-400" aria-label="Instagram">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-instagram"><rect x="2" y="2" width="20" height="20" rx="5" ry="5"></rect><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"></path><line x1="17.5" y1="6.5" x2="17.51" y2="6.5"></line></svg>
                </a>
                <a href="https://api.whatsapp.com/send/?phone=541123956472&text=${encodeURIComponent('¡Hola Los Marmotas Grow Shop! Estoy interesado en los productos.')}&type=phone_number&app_absent=0" target="_blank" class="hover:text-green-400" aria-label="WhatsApp">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-message-square"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path></svg>
                    </a>
                </div>
            </div>
        </nav>
    </header>

    <main>
        <section id="hero" class="bg-stars text-white text-center py-20 px-6">
            <div class="container mx-auto">
                <!-- Logo en la sección hero -->
                <img src="https://raw.githubusercontent.com/oviedoleonel/pagina-web-los-marmotas-growshop/main/b04e66d7-b0aa-4d87-9be2-4f8eeb7577c0%20(2)-fotor-2025081620041.png" alt="Los Marmotas Logo" class="mx-auto h-32 mb-6">
                <h2 class="text-4xl md:text-6xl font-bold mb-4 font-losmarmotas">¡Bienvenidos a Los Mar<span class="text-green-400">motas</span> Grow Shop!</h2>
                <p class="text-lg md:text-xl max-w-3xl mx-auto text-gray-300">
                    Todo lo que tu cultivo necesita, con la mejor onda. Explora nuestro catálogo y haz tu pedido por WhatsApp.
                </p>
                <a href="#catalogo" class="mt-8 inline-block bg-green-500 text-black font-bold py-3 px-8 rounded-full text-lg hover:bg-green-600 transition-all duration-300 transform hover:scale-105 shadow-lg">
                    Ver Productos
                </a>
            </div>
        </section>

        <section id="catalogo" class="py-16 bg-white">
            <div class="container mx-auto px-6">
                <h2 class="text-3xl font-bold text-center mb-12 font-losmarmotas">Nuestro Catálogo de Productos</h2>

                <div class="mb-8 flex flex-wrap justify-center gap-4">
                    <button id="filter-all" class="filter-btn py-2 px-6 rounded-full bg-green-500 text-black font-bold hover:bg-green-600 transition" data-category="all">Todos</button>
                    <button class="filter-btn py-2 px-6 rounded-full bg-gray-200 text-gray-800 font-semibold hover:bg-gray-300 transition" data-category="sustratos">Sustratos</button>
                    <button class="filter-btn py-2 px-6 rounded-full bg-gray-200 text-gray-800 font-semibold hover:bg-gray-300 transition" data-category="fertilizantes">Fertilizantes</button>
                    <button class="filter-btn py-2 px-6 rounded-full bg-gray-200 text-gray-800 font-semibold hover:bg-gray-300 transition" data-category="iluminacion">Iluminación</button>
                    <!-- Renombrado de Accesorios a Parafernalia -->
                    <button id="filter-parafernalia-main" class="filter-btn py-2 px-6 rounded-full bg-gray-200 text-gray-800 font-semibold hover:bg-gray-300 transition" data-category="parafernalia">Parafernalia</button>
                    <!-- NUEVO filtro principal para Accesorios de Cultivo -->
                    <button id="filter-accesorios-cultivo-new" class="filter-btn py-2 px-6 rounded-full bg-gray-200 text-gray-800 font-semibold hover:bg-gray-300 transition" data-category="accesorios-de-cultivo">Accesorios de Cultivo</button>
                </div>

                <!-- Contenedor para los filtros de subcategorías de Accesorios/Parafernalia (OCULTO POR DEFECTO) -->
                <div id="accessory-subcategories" class="mb-8 flex flex-wrap justify-center gap-4 hidden">
                    <!-- Botón para ver todos los accesorios -->
                    <button class="filter-btn subcategory-btn py-2 px-6 rounded-full bg-green-500 text-black font-bold hover:bg-green-600 transition" data-subcategory="all-accesorios">Todos los Accesorios</button>
                    <!-- Botones para cada subcategoría de Accesorios (ACTUALIZADO) -->
                    <button class="filter-btn subcategory-btn py-2 px-6 rounded-full bg-gray-200 text-gray-800 font-semibold hover:bg-gray-300 transition" data-subcategory="celulosa-y-blunt">Celulosa y Blunt</button>
                    <button class="filter-btn subcategory-btn py-2 px-6 rounded-full bg-gray-200 text-gray-800 font-semibold hover:bg-gray-300 transition" data-subcategory="papelillos-y-filtros">Papelillos y Filtros</button>
                    <button class="filter-btn subcategory-btn py-2 px-6 rounded-full bg-gray-200 text-gray-800 font-semibold hover:bg-gray-300 transition" data-subcategory="picadores">Picadores</button>
                    <button class="filter-btn subcategory-btn py-2 px-6 rounded-full bg-gray-200 text-gray-800 font-semibold hover:bg-gray-300 transition" data-subcategory="bandejas-ceniceros">Bandejas y Ceniceros</button>
                    <button class="filter-btn subcategory-btn py-2 px-6 rounded-full bg-gray-200 text-gray-800 font-semibold hover:bg-gray-300 transition" data-subcategory="guardado">Guardado</button>
                    <button class="filter-btn subcategory-btn py-2 px-6 rounded-full bg-gray-200 text-gray-800 font-semibold hover:bg-gray-300 transition" data-subcategory="encendedores">Encendedores</button>
                </div>

                <!-- Contenedor para los filtros de marca de Sustratos (oculto por defecto) -->
                <div id="sustratos-brands" class="mb-8 flex flex-wrap justify-center gap-4 hidden">
                    <button class="filter-btn brand-btn py-2 px-6 rounded-full bg-green-500 text-black font-bold hover:bg-green-600 transition" data-brand="all-sustratos">Todas las Marcas (Sustratos)</button>
                    <button class="filter-btn brand-btn py-2 px-6 rounded-full bg-gray-200 text-gray-800 font-semibold hover:bg-gray-300 transition" data-brand="tasty">Tasty</button>
                    <button class="filter-btn brand-btn py-2 px-6 rounded-full bg-gray-200 text-gray-800 font-semibold hover:bg-gray-300 transition" data-brand="cultivate">Cultivate</button>
                    <button class="filter-btn brand-btn py-2 px-6 rounded-full bg-gray-200 text-gray-800 font-semibold hover:bg-gray-300 transition" data-brand="la-pacha-sustrato">La Pacha Sustrato</button>
                </div>

                <!-- Contenedor para los filtros de marca de Fertilizantes (NUEVO) -->
                <div id="fertilizantes-brands" class="mb-8 flex flex-wrap justify-center gap-4 hidden">
                    <button class="filter-btn brand-btn py-2 px-6 rounded-full bg-green-500 text-black font-bold hover:bg-green-600 transition" data-brand="all-fertilizantes">Todas las Marcas (Fertilizantes)</button>
                    <button class="filter-btn brand-btn py-2 px-6 rounded-full bg-gray-200 text-gray-800 font-semibold hover:bg-gray-300 transition" data-brand="top-crop">Top Crop</button>
                    <button class="filter-btn brand-btn py-2 px-6 rounded-full bg-gray-200 text-gray-800 font-semibold hover:bg-gray-300 transition" data-brand="namaste">Namaste</button>
                    <button class="filter-btn brand-btn py-2 px-6 rounded-full bg-gray-200 text-gray-800 font-semibold hover:bg-gray-300 transition" data-brand="tasty-fert">Tasty</button>
                    <button class="filter-btn brand-btn py-2 px-6 rounded-full bg-gray-200 text-gray-800 font-semibold hover:bg-gray-300 transition" data-brand="revegetar">Revegetar</button>
                    <button class="filter-btn brand-btn py-2 px-6 rounded-full bg-gray-200 text-gray-800 font-semibold hover:bg-gray-300 transition" data-brand="mamboreta">Mamboretá</button>
                    <button class="filter-btn brand-btn py-2 px-6 rounded-full bg-gray-200 text-gray-800 font-semibold hover:bg-gray-300 transition" data-brand="vamp">Vamp</button>
                    <button class="filter-btn brand-btn py-2 px-6 rounded-full bg-gray-200 text-gray-800 font-semibold hover:bg-gray-300 transition" data-brand="biobizz">Biobizz</button>
                </div>


                <div class="grid lg:grid-cols-3 gap-8">
                    <div class="lg:col-span-2">
                        <div id="product-list" class="grid sm:grid-cols-2 md:grid-cols-3 gap-6">
                            <!-- Los productos se renderizarán aquí con JS -->
                        </div>
                    </div>
                    <div class="lg:col-span-1">
                        <div class="bg-white p-6 rounded-lg shadow-lg sticky top-24">
                            <h3 class="text-2xl font-bold mb-4 font-losmarmotas flex items-center">
                                <span class="mr-2">🛒</span> Carrito
                            </h3>
                            <div id="cart-items" class="space-y-4 mb-4 max-h-64 overflow-y-auto">
                                <p id="empty-cart-msg" class="text-gray-500">Tu carrito está vacío.</p>
                            </div>
                            <div class="border-t pt-4">
                                <div class="flex justify-between items-center font-bold text-lg mb-4">
                                    <span>Total:</span>
                                    <span id="cart-total">$0.00</span>
                                </div>
                                <button id="checkout-btn" class="w-full bg-green-500 text-black font-bold py-3 px-4 rounded-lg hover:bg-green-600 transition disabled:bg-gray-400 disabled:cursor-not-allowed flex items-center justify-center">
                                    <svg class="w-5 h-5 mr-2" fill="currentColor" viewBox="0 0 20 20"><path d="M10.894 2.553a1 1 0 00-1.788 0l-7 14a1 1 0 001.169 1.409l5-1.429A1 1 0 009 15.571V11a1 1 0 112 0v4.571a1 1 0 00.725.962l5 1.428a1 1 0 001.17-1.408l-7-14z"></path></svg>
                                    Finalizar Compra por WhatsApp
                                </button>
                                <button id="admin-login-btn" class="w-full bg-black text-white font-bold py-2 px-4 rounded-lg hover:bg-gray-800 transition mt-4">
                                    Acceso Administrador
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="product-mgmt-section" class="py-16 bg-gray-100 hidden">
            <div class="container mx-auto px-6">
                    <div class="bg-white p-8 rounded-lg shadow-xl w-full max-w-2xl mx-auto my-8">
                        <h3 class="text-2xl font-bold mb-6 text-center font-losmarmotas">Gestión de Productos</h3>
                        
                        <h4 id="form-title" class="text-xl font-bold mb-4">Añadir Nuevo Producto</h4>
                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-8">
                            <input type="text" id="product-form-name" placeholder="Nombre del Producto" class="p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500">
                            <input type="number" id="product-form-price" placeholder="Precio" class="p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500">
                            
                            <div class="md:col-span-2">
                                <input type="text" id="product-form-image-url" placeholder="URL de la Imagen (ej: https://ejemplo.com/imagen.jpg)" class="w-full p-3 mb-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500">
                                <input type="file" id="product-form-image-file" accept="image/*" class="w-full p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500">
                                <p class="text-sm text-gray-500 mt-1">O selecciona un archivo local para previsualizar (no guarda permanentemente el archivo).</p>
                                <div id="image-preview-container" class="mt-4 border border-gray-300 rounded-lg p-2 flex justify-center items-center min-h-[100px] bg-gray-50">
                                    <img id="product-image-preview" src="" alt="Vista previa de la imagen" class="max-w-full max-h-[200px] object-contain hidden">
                                    <span id="preview-placeholder" class="text-gray-400">Sin vista previa de imagen</span>
                                </div>
                            </div>

                            <textarea id="product-form-description" placeholder="Descripción breve del producto (opcional)" class="p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 md:col-span-2"></textarea> <!-- NEW: Description field -->

                            <select id="product-form-category" class="p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 md:col-span-2">
                                <option value="">Selecciona Categoría</option>
                                <option value="sustratos">Sustratos</option>
                                <option value="fertilizantes">Fertilizantes</option>
                                <option value="iluminacion">Iluminación</option>
                                <option value="parafernalia">Parafernalia</option>
                                <option value="accesorios-de-cultivo">Accesorios de Cultivo</option>
                            </select>
                            <!-- Nuevo: Select para Subcategoría (Accesorios) (ACTUALIZADO) -->
                            <select id="product-form-subcategory" class="p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 md:col-span-2 hidden">
                                <option value="">Selecciona Subcategoría (Accesorios)</option>
                                <option value="celulosa-y-blunt">Celulosa y Blunt</option>
                                <option value="papelillos-y-filtros">Papelillos y Filtros</option>
                                <option value="picadores">Picadores</option>
                                <option value="bandejas-ceniceros">Bandejas y Ceniceros</option>
                                <option value="guardado">Guardado</option>
                                <option value="encendedores">Encendedores</option>
                            </select>
                            <!-- Nuevo: Select para Marca (Sustratos/Fertilizantes) -->
                            <select id="product-form-brand" class="p-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 md:col-span-2 hidden">
                                <option value="">Selecciona Marca</option>
                                <!-- Opciones de marca se poblarán dinámicamente con JS -->
                            </select>

                            <button id="product-form-submit-btn" class="md:col-span-2 px-6 py-2 bg-green-500 text-black font-bold rounded-lg hover:bg-green-600 transition">Añadir Producto</button>
                        </div>

                        <h4 class="text-xl font-bold mb-4">Productos Existentes</h4>
                        <div class="overflow-x-auto">
                            <div id="existing-products-list" class="space-y-4 min-w-max">
                                <!-- Los productos existentes se listarán aquí -->
                            </div>
                        </div>
                    </div>
            </div>
        </section>

        <div id="admin-login-modal" class="fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center hidden z-50">
            <div class="bg-white p-8 rounded-lg shadow-xl w-full max-w-md">
                <h3 class="text-2xl font-bold mb-6 text-center font-losmarmotas">Acceso Administrador</h3>
                <input type="password" id="admin-password" placeholder="Contraseña" class="w-full p-3 mb-4 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500">
                <div class="flex justify-end space-x-4">
                    <button id="admin-cancel-btn" class="px-6 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 transition">Cancelar</button>
                    <button id="admin-login-submit-btn" class="px-6 py-2 bg-green-500 text-black font-bold rounded-lg hover:bg-green-600 transition">Ingresar</button>
                </div>
            </div>
        </div>

        <div id="message-modal" class="fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center hidden z-50">
            <div class="bg-white p-6 rounded-lg shadow-xl text-center">
                <p id="message-modal-text" class="text-lg font-semibold mb-4"></p>
                <button id="message-modal-close" class="px-4 py-2 bg-green-500 text-black rounded-lg hover:bg-green-600 transition">Cerrar</button>
            </div>
        </div>
    </main>

    <footer class="bg-black text-white py-8">
        <div class="container mx-auto px-6 text-center text-gray-400">
            <p>&copy; 2025 Los Marmotas Grow Shop. Todos los derechos reservados.</p>
            <p class="text-sm mt-2">Este es un demo funcional. Para acceso completo, contacta al administrador.</p>
        </div>
    </footer>

    <!-- Enlace a tu archivo JavaScript personalizado -->
    <script src="js/script.js"></script>
</body>
</html>
